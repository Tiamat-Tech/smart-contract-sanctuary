/**
 *Submitted for verification at Etherscan.io on 2021-09-18
*/

// SPDX-License-Identifier: UNLICENSED
pragma solidity 0.7.6;

contract Composites {

    bytes private palette;
    mapping(uint64 => uint32) private composites;

    address payable internal deployer;

    modifier onlyDeployer() {
        require(msg.sender == deployer, "Only deployer.");
        _;
    }

    constructor() {
        deployer = msg.sender;
        setPalette(hex"000000ff713f1dff8b532cff562600ff723709ffae8b61ffb69f82ff86581effa77c47ffdbb180ffe7cba9ffa66e2cffd29d60ffead9d9ffffffffffa58d8dffc9b2b2ff4a1201ff5f1d09ff711010ff7da269ff9bbc88ff5e7253ffff0000ff352410ff856f56ff6a563fffa98c6bffc8fbfbff9be0e0fff1ffffff75bdbdffd6000033692f08ff28b143ff794b11ff502f05ff00000099d60000ffc6c6c6ffdedede80e25b26ff80dbdaffca4e11ff933709ff0000004d86581e4d353535ff515151ff221e1766710cc7ff000000915c390fffc77514ff595959ff0040ffffdfdfdfff8c0d5bff690c45ffad2160ff555555ff0060c3ffe4eb17ff3cc300ffd60404ff8119b7ffb261dcff2c9541ff296434ffc9c9c9ffb1b1b1ff8d8d8dffb4b4b4ffdc1d1dff1a43c8ff1637a4ff142c7cffc28946ff2a2a2affe22626ff26314affffd800ff4c4c4cff636363ff000000403d2f1effffd926ffcae7fe701a6ed5ff855114ffbababa80683c08ff68461fffffc926ffd7d7d7fff0f0f0ff328dfdfffd3232ff2858b1ff2c5195ff293e64ff85561eff2d6b62ff005580ff229000ffc42110ff2c779599fff68eff8d5b4099ffba00ffff2a00ffe65700ffb500af99cd00cbff1c1a00ff534c00ffff8ebeff2c95419951360cff96200526");
        addComposites(10185806010002644479, 2186294015, 334398324991, 2575063551, 14620934475063635199, 3064171007, 624958130687, 942481407);
        addComposites(14620934474510063359, 2762187007, 14620934474879159807, 2963512319, 13042617595322051839, 2938928127, 2458428176373342719, 1985954815);
        addComposites(278563750143, 2760204543, 16059517963269653503, 2210894079, 332820277759, 1467042303, 14620934475081336831, 3081476351);
        addComposites(9680520719389163519, 3670916095, 15420325347100056063, 3870207743, 14620934475182135807, 3131876095, 13042617595339753471, 2956101119);
        addComposites(14620934473855947775, 2393219071, 10817651969650973183, 3720264447, 2458428175552768511, 1500334335, 3204194146176141823, 1214078463);
        addComposites(14620934474525318911, 2761327103, 13455271899935706879, 3705185535, 277806277119, 2187872767, 2458428177130815743, 2440451839);
        addComposites(3204194145705263359, 1012292095, 333472686335, 1918714879, 333640851967, 2036417791, 13455271895641358336, 3115956608);
        addComposites(13455271899936325631, 3705462015, 333305515007, 1801675263, 625107741951, 1008997375, 13042617594783735551, 2737010175);
        addComposites(14620934474055434239, 2492830719, 13042617593975144703, 2400152063, 3212546037968450303, 1788899071, 624199407359, 622070271);
        addComposites(15420325346088280575, 3060748031, 10817651969396670719, 3499912959, 3204194146513854207, 1349150207, 14620934473716728063, 2306502911);
        addComposites(13042617594446023167, 2601938431, 624670219775, 823856639, 14620934474171358719, 2559082751, 16059517966881296127, 4008359679);
        addComposites(659029958143, 756616447, 16059517962586947584, 3722304896, 2458428177385118207, 2593033215, 16059517966881914879, 4008636159);
        addComposites(14620934473633893631, 2256762879, 14620934474187606527, 2575595007, 657129996543, 255, 278818052607, 2946737151);
        addComposites(14620934472271397119, 1499820287, 14620934476549587199, 3898962175, 334652627455, 2744621055, 3204194147069872127, 1568241151);
        addComposites(3212546038118047999, 1855475199, 15420325345267706367, 2407683327, 10817651968639197695, 2860209407, 15420325346845753599, 3666765567);
        addComposites(3212546037362036223, 1553031167, 3204194147052170495, 1551068159, 332091497215, 958599935, 276777868799, 1429149439);
        addComposites(332947134463, 1562579199, 16059517966381098751, 3766649599, 3204194147793461503, 1854308351, 10185806011788525823, 2910738943);
        addComposites(332612443647, 1328289023, 3212546037394458623, 1569407999, 627065225215, 1852731135, 14620934476566364159, 3908370431);
        addComposites(3204194147037449727, 1551864319, 3212546037376756991, 1552235007, 332141631231, 992022527, 14620934476565745407, 3908026623);
        addComposites(16059517962586947839, 1869574143, 14620934475656841727, 3403080191, 3204194147643863807, 1787732223, 626659142143, 1683507711);
        addComposites(3212546036838440703, 1350317055, 14620934476211542527, 3705662207, 330712482047, 255, 10185806011031052799, 2607762943);
        addComposites(626710403583, 1700683519, 2458428175344934399, 1379015423, 661070141951, 1582782463, 332297032703, 1112554239);
        addComposites(3212546036500728319, 1215245311, 333152933631, 1699888383, 659237792255, 843131647, 13455271895641358591, 1566399999);
        addComposites(10817651967610789375, 1983585023, 14620934474379192831, 2680204287, 624878053887, 910568959, 625383082239, 1129397247);
        addComposites(13042617595913745151, 3175592191, 3212546036029849855, 1013458943, 660815839487, 1481061375, 14620934475957240063, 3569924351);
        addComposites(14620934475655328511, 3402224895, 332900354559, 1531524095, 333773229823, 2135766783, 626456101119, 1582053375);
        addComposites(14620934475199767039, 3149113087, 10185806012042828287, 3012460031, 14620934475115949055, 3098848511, 625698628095, 1262234367);
        addComposites(14620934475048914431, 3065298943, 9680520715094196479, 672860671, 13042617595307331071, 2939724287, 625530462463, 1194928639);
        addComposites(660058366463, 1178085375, 332698436607, 1380069375, 625834164991, 1329936639, 15420325345059872255, 2234652671);
        addComposites(16059517964018603519, 2576980479, 14620934475804926207, 3485312767, 13042617596063342847, 3242168319, 0, 0);
    }
    
    function destroy() external onlyDeployer {
        selfdestruct(deployer);
    }
    
    function composite(byte index, byte yr, byte yg, byte yb, byte ya) external view returns (bytes4 rgba) {
        uint x = uint(uint8(index)) * 4;
        uint8 xAlpha = uint8(palette[x + 3]);
        if (xAlpha == 0xFF) {
            rgba = bytes4(uint32(
                    (uint(uint8(palette[x])) << 24) |
                    (uint(uint8(palette[x+1])) << 16) |
                    (uint(uint8(palette[x+2])) << 8) |
                    xAlpha
                ));
        } else {
            uint64 key =
                (uint64(uint8(palette[x])) << 56) |
                (uint64(uint8(palette[x + 1])) << 48) |
                (uint64(uint8(palette[x + 2])) << 40) |
                (uint64(xAlpha) << 32) |
                (uint64(uint8(yr)) << 24) |
                (uint64(uint8(yg)) << 16) |
                (uint64(uint8(yb)) << 8) |
                (uint64(uint8(ya)));
            rgba = bytes4(composites[key]);
        }
    }
    
    function setPalette(bytes memory _palette) internal onlyDeployer {
        palette = _palette;
    }

    function addComposites(uint64 key1, uint32 value1, uint64 key2, uint32 value2, uint64 key3, uint32 value3, uint64 key4, uint32 value4) internal onlyDeployer {
        composites[key1] = value1;
        composites[key2] = value2;
        composites[key3] = value3;
        composites[key4] = value4;
    }
}

contract Assets {

    mapping(uint8 => bytes) private assets;
    mapping(uint8 => string) private assetNames;

    address payable internal deployer;

    modifier onlyDeployer() {
        require(msg.sender == deployer, "Only deployer.");
        _;
    }

    constructor() {
        deployer = msg.sender;
    }
    
    function destroy() external onlyDeployer {
        selfdestruct(deployer);
    }
    
    function addAsset(uint8 index, string memory name, bytes memory encoding) internal onlyDeployer {
        assets[index] = encoding;
        assetNames[index] = name;
    }
    
    function getAsset(uint8 index) external view returns (bytes memory encoding) {
        encoding = assets[index];
    }
    
    function getAssetName(uint8 index) external view returns (string memory text) {
        text = assetNames[index];        
    }

    function initializeAdditionalInternalState1() external onlyDeployer {
        addAsset(1, "Male 1", hex"26000c2700043301863401c33501c33601f03701c33801c33901c33a01c33b01c342000a4302804301704402104401e04503804501704601b44701f04801f04901f04a01f04b01f052000a5301f05401f05503205501d05604105601e05701f05801f05901b45a015a5b000362000a6301f06401f06501f06601f067015a6801f06901a56a015a7200027301b47401f07503a07501507604417601a07701f07801f07901f07a0116830002840003850003860003870003880003890003");
        addAsset(2, "Male 2", hex"26000c2700043305863405c33505c33605f03705c33805c33905c33a05c33b05c342000a4306804305704406104405e04507804505704605b44705f04805f04905f04a05f04b05f052000a5305f05405f05507205505d05608105605e05705f05805f05905b45a055a5b000362000a6305f06405f06505f06605f067055a6805f06905a56a055a7200027305b47405f07507a07505507608417605a07705f07805f07905f07a0516830002840003850003860003870003880003890003");
        addAsset(3, "Male 3", hex"26000c2700043309863409c33509c33609f03709c33809c33909c33a09c33b09c342000a430970430a804409e0440a10450b804509704609b44709f04809f04909f04a09f04b09f052000a5309f05409f0550b205509d0560c105609e05709f05809f05909b45a095a5b000362000a6309f06409f06509f06609f067095a6809f06909a56a095a7200027309b47409f0750ba0750950760c417609a07709f07809f07909f07a0916830002840003850003860003870003880003890003");
        addAsset(4, "Male 4", hex"26000c270004330d86340dc3350dc3360df0370dc3380dc3390dc33a0dc33b0dc342000a430e80430d70440e10440de0450d70450f80460db4470df0480df0490df04a0df04b0df052000a530df0540df0550dd0550f20560de0561010570df0580df0590db45a0d5a5b000362000a630df0640df0650df0660df0670d5a680df0690da56a0d5a720002730db4740df0750d50750fa0760da1761040770df0780df0790df07a0d16830002840003850003860003870003880003890003");
        addAsset(5, "Female 1", hex"34000835000c3601c337000d38000c3900044300084402814401604501f04603484601304701f04801f04901d24a01c34b01c353000a5401f05501f05603105604205601c05701f05801f05911405901b05a01695b01f063000a6401f06501f06601f06701f06801e16911506901a06a015a6b00037300027401b47501f07603527604807701f07801f07901787a0001840002850003860003870003880003890001");
        addAsset(6, "Female 2", hex"34000835000c3605c337000d38000c3900044300084406814405604505f04607484605304705f04805f04905d24a05c34b05c353000a5405f05505f05608205607105605c05705f05805f05912405905b05a05695b05f063000a6405f06505f06605f06705f06805e16912506905a06a055a6b00037300027405b47505f07608827607507705f07805f07905787a0001840002850003860003870003880003890001");
        addAsset(7, "Female 3", hex"34000835000c3609c337000d38000c390004430008440961440a804509f0460b484609304709f04809f04909d24a09c34b09c353000a5409f05509f0560c20560b105609c05709f05809f05913405909b05a09695b09f063000a6409f06509f06609f06709f06809e16913506909a06a095a6b00037300027409b47509f0760c82760b507709f07809f07909787a0001840002850003860003870003880003890001");
        addAsset(8, "Female 4", hex"34000835000c360dc337000d38000c390004430008440e81440d60450df0460d38460f40470df0480df0490dd24a0dc34b0dc353000a540df0550df0560dc0560f10561020570df0580df0591340590db05a0d695b0df063000a640df0650df0660df0670df0680de1691350690da06a0d5a6b0003730002740db4750df0760f52761080770df0780df0790d787a0001840002850003860003870003880003890001");
        addAsset(9, "Zombie", hex"26000c2700043314863414c33514c33614f03714c33814c33914c33a14c33b14c342000a4315804314704415104414e04514704516804614304616804617404714f04814f04914f04a14f04b14f052000a5314f05414f05514d05516205614e15714f05814f05914345916805a145a5b000362000a6314f06414f06514f06614f067145a6814f06914a56a145a7200027314b47414f07514507516a07614847616207617107714f07814f07914f07a1416830002840003850003860003870003880003890003");
        addAsset(10, "Ape", hex"26000c2700043318863418c33518c33618f03718c33818c33918c33a18c33b18c342000a4318f0441878451970451a804619b44719d04718204819804818704919c34a18b44b18f052000a5318f054185a5519d0551a20561b105619e05719785819f05919a55a195a5b000362000a6318f064185a6519f06619f06719786819f06919a56a195a7200027318b47418d2751950751aa0761b417619a07719f07819b07818407919e17a1916830002840003850003860003870003880003890003");
        addAsset(11, "Alien", hex"250008261c49270004331c86341cc3351cc3361ce0361d10371cc3381cc3391cc33a1cc33b1cc342000a431c70431e80441ce0441e10451c70451f80461cb4471cf0481cf0491cf04a1cf04b1cf052000a531cf0541cf0551cd2561ce0561d10571cf0581cf0591ca55a1c5a5b000362000a631cf0641cf0651cf0661cf0671cc0671d30681ce0681d10691ca56a1c5a720002731cb4741cf0751c58751f20761ca1761d40771cf0781cf0791ce17a1c16830002840003850003860003870003880003890003");
        addAsset(12, "Rosy Cheeks", hex"472080482040572020772080782040");
        addAsset(13, "Luxurious Beard", hex"37000838000c39000c48000f49000f4a000f4b000458000a59214b5a000f5b000568000a69215a6a000f6b000578000e79000f7a000f7b0001880003890003");
        addAsset(14, "Clown Hair Green", hex"1422a01522d02322e02422f02522f02622d03222e03322703422303522304222107222d07322408222208322f08422f08522f08622d08700049322209422b09522f0962210a42220a52210");
        addAsset(15, "Mohawk Dark", hex"42000c51000e52000f53000460000a61000f620007630003");
        addAsset(16, "Cowboy Hat", hex"1323201423d02423f03223c03324a03323403423f04123a04223f04324a04323504423f05223f05324a05323505423f06123806223f06324a06323506423f07123207223f07324a07323507423f08324208423f09423f0a32320a42310");
        addAsset(17, "Mustache", hex"5825a06825a0782520");
        addAsset(18, "Clown Nose", hex"6726f0");
        addAsset(19, "Cigarette", hex"69000478000a79275a88000a89275a9528c09628c09728c098000a99271a992940a90001");
        addAsset(20, "Nerd Glasses", hex"350008452a87462a4b552a2d562a1e65000e66000c752aa5762a5a850003860003");
        addAsset(21, "Regular Shades", hex"25000835000a45000a46000d55000a56000765000a75000a76000d85000a860007");
        addAsset(22, "Knitted Cap", hex"24000c332b80342c70342b80432bf0442c70442b80532bf0542c70542b80632bf0642c70642b80732bb0742c70742b80842c3c");
        addAsset(23, "Shadow Beard", hex"372d80382dc0392d40482db0492df04a2d40582da0592db0592e405a2d50682da0692da0692e506a2d50782de0792df07a2d10");
        addAsset(24, "Frown", hex"590002");
        addAsset(25, "Cap Forward", hex"320008332f4333308034304b422f254230804330f044301e5230a553305a542f5a6230a563305a642f5a72302973305a742f5a83000b842f5a940003");
        addAsset(26, "Goat", hex"5a0bc05b00046a0bf06b0b16");
        addAsset(27, "Mole", hex"483110");
        addAsset(28, "Purple Hair", hex"1332801432a01532a01632e01732802232a02332e02432f02532f02632302732f02832e02932403232b03332f03432f03532304132804232f04332f04432105132805232f05332f06232f06332f07232207332f0743240833220843230");
        addAsset(29, "Small Shades", hex"35000836000145000a46000c55000a56000365000a75000a76000f");
        addAsset(30, "Shaved Head", hex"3333803433c04333f04433505333f05433506333f06433507333b07433d0");
        addAsset(31, "Classic Shades", hex"35000445348746354955342d56351665000d6600047534a576355a850003860001");
        addAsset(32, "Vape", hex"69000478000a79365a88000a89365a98000a99361a993740a80002a90003");
        addAsset(33, "Silver Chain", hex"3b38404b3850");
        addAsset(34, "Smile", hex"580002");
        addAsset(35, "Big Shades", hex"34000835000e36000444000a4539a0453a50463b5a54000a55392c553a10563b1664000865000d66000474000a7539a0753a50763b5a84000a85392c853a10863b16");
        addAsset(36, "Mowhawk Thin", hex"500008513cc3523cc1533c41610003620001630001");
        addAsset(37, "Beanie", hex"333de0343d50413d80423da0433d70433e80443e50443fa0513da0523ea4533ef0543e50543fa0613da0624080623e20634040633eb0643e50643fa07240207340f0744040743e10743f20834020844010");
        addAsset(38, "Cap", hex"3241803341f03441504241f04341f04441505241f05341f05441506241706242806341f06441507241b07341e07342107441508341a0844150934120944150");
        addAsset(39, "Clown Eyes Green", hex"4522404543804622805543205644107522107543a0762220764440");
        addAsset(40, "Normal Beard Black", hex"37000838000c39000448000b49000f4a000458000a59074b5a000568000a69075a6a000578000e79000f7a0001");
        addAsset(41, "Medical Mask", hex"3645903945404745904845404846804945d05745a05845f05945f05a45506746206745806845f06945f06a4550774560784510784620794570");
        addAsset(42, "Normal Beard", hex"370b80380bc0390b40480bb0490bf04a0b40580ba0590bb45a0b50680ba0690ba56a0b50780be0790bf07a0b10");
        addAsset(43, "VR", hex"35478636474944000a45471845486046489446472047000554000a55485a5648a557000564000a65485a6648a567000574000a75485a7648a577000584000285471c85482086481c864720870001");
        addAsset(44, "Eye Patch", hex"35000445000f46000d55000f560007650005750005");
    }
    
    function initializeAdditionalInternalState2() external onlyDeployer {
        addAsset(45, "Wild Hair", hex"12000c13000414000e15000816000422000a23000f24000f25000f26000e27000131000a32000f33000f34000f35000f36000f42000f43000f44000752000f53000f54000d61000a62000f63000f64000271000a72000f73000f74000d81000282000a83000f84000f85000f86000f870004920007930007940001950003");
        addAsset(46, "Top Hat", hex"23000824000530000831000f32000f33495a34000540000a41000f42000f43495a44000550000a51000f52000f53495a54000560000a61000f62000f63495a64000570000a71000f72000f73495a74000581000382000383491a840005940001");
        addAsset(47, "Bandana", hex"144a90144b40154ac0244a10244b60244c80254c10334b60334a80344a40344c10424ba0434af0444b50524ba0534af0544b50624ba0634af0644a50644ba0724ba0734af0744a10744b60834b30");
        addAsset(48, "Handlebars", hex"584d20580b80590b30680ba0784d20790b30");
        addAsset(49, "Frumpy Hair", hex"23000c24000c25000c32000e33000f34000f35000f36000f41000a424e6943000f44000f45000151000a52000f53000f54000d55000461000a62000f63000f64000f65000771000272000f73000f74000f82000283000f84000f");
        addAsset(50, "Crazy Hair", hex"134fb0154fc0174f40224fa0234fe0244ff0254f78264f34314fe0324ff0334ff0344f50414f20424ff0434ff0444f70514fa0524ff0534ff0614fb0624fb0634ff0644f10724ff0734ff0744f10814f20824fb0834ff0844f10934f70");
        addAsset(51, "Police Cap", hex"2200082300043250a5330e823350503400054250a5430e8243505044504951000a525070525180530e8253505054505a6100026250b4630e8263505064505a7250a5730e8273505074505a82502983501684501e");
        addAsset(52, "Buck Teeth", hex"590e40690e40");
        addAsset(53, "Do-rag", hex"3352803452c04352704353804453104452e05352f05452f06352f06452f07352b07452f0");
        addAsset(54, "Front Beard", hex"580ba0590bb05a0bc05b0004680ba0690ba06a0bf06b0005780b20790b30");
        addAsset(55, "Spots", hex"3654804854404a54105454106a5410745410775410785480");
        addAsset(56, "Big Beard", hex"29000c2a0004380b80390bf03a0b58480be0490bf04a0bf04b0005580bf0590bb05a0bf05b0b49680bf0690ba06a0bf06b0b5a780bf0790bf07a0bf07b0b5a880b28890b3c8a0b3c8b0001");
        addAsset(57, "Vampire Hair", hex"33000834000c38000c39000443000749000153000d63000f640003730009");
        addAsset(58, "Peak Spike", hex"32000c33000540000841000f42000f50000851000f52000f53000d60000861000f62000563000171000372000d730004830001");
        addAsset(59, "Chinstrap", hex"370b80380bc0480b30490bf04a0b405a0bd05b00046a0bf06b0005780bc0790bc07a0b10");
        addAsset(60, "Fedora", hex"1455802455f033554a3455f04155804255f043555a4455f05155a05255f053555a5455f06155a06255f063555a6455f072553073555a7455f08300028455f09455b0");
        addAsset(61, "Earring", hex"275649");
        addAsset(62, "Horned Rim Glasses", hex"35000c4557a54657f055572d5657306557876657c07557a57657f085000d");
        addAsset(63, "Headband", hex"330e80345840430ea0445850530ea0545850630ea0645850730ea0745850");
        addAsset(64, "Pipe", hex"6900087959297a59498a59298b5949965ac099000a9a5b839a59409b595aa55a20a65af0a75a20a85a20a9000aaa5b80aa5970ab5b16b90002ba0003");
        addAsset(65, "Messy Hair", hex"23000824000832000833000f34000f42000f43000f44000d45000152000f53000f54000562000f63000f64000365000172000e73000f74000d83000784000b");
        addAsset(66, "Front Beard Dark", hex"585ca0595cb05a5cc05b0004685ca0695ca06a5cf06b0005785c20795c30");
        addAsset(67, "Hoodie", hex"15000816000c173cc3183cc3193c491a0004230008243cc3253ce1263c3c27000f28000f293c2d2a3c962b3cc3320008333ce1343c783500033700033800033900033a00033b0003423ca5433cf044000551000a523cf0533cf05400055a00085b000f610002623cb4633cf06400056a000a6b3c69723c29733cf0743c497a000e7b3c5a833c29843cf0853cc386000f87000f88000f89000f8a3c698b0001940003953c29963c3c973cc3983cc3993c699a0001a70003a80003a90001");
        addAsset(68, "Gold Chain", hex"3a5d404a5d204b5d40");
        addAsset(69, "Muttonchops", hex"370b80380bc0480bb0490b50780bc0790b40");
        addAsset(70, "Stringy Hair", hex"43000c44000352000853000c54000963000c740003");
        addAsset(71, "Eye Mask", hex"35000c36000f450007465e4b55000d56000e65000f66000f750005765e1a850003860003");
        addAsset(72, "3D Glasses", hex"355fd0455f70456080465fb0466040555f505560a0565fa0566050655f70656180665fb0666140755f507561a0765fa0766150855f30865f30");
        addAsset(73, "Clown Eyes Blue", hex"4562404563804662805563205664107562107563a0766220766440");
        addAsset(74, "Mohawk", hex"426584510b86520be0526510530b4060000a610b3c620b34630b30");
        addAsset(75, "Pilot Helmet", hex"33000834000c3566e03666f03766d03866c03966c03a6640426680432aa5442a5a4566505266a0532a2d5466875566506266a0632a8764662d656650726620732aa5742a5a7566508300028400038566308666308766308866308966308a6610");
        addAsset(76, "Tassle Hat", hex"2900083300083467863568c33668c03768c33868c33968e13a684942000c4367814368604467104468e04568104968205167865267905268605367905368605467105468e06168296267906268606367906368606467106468e07200037367947368207467907468607568407968807a000483000284682985683c86683c87683c88683c8968b48a6816990002");
        addAsset(77, "Hot Lipstick", hex"596940696950");
        addAsset(78, "Blue Eye Shadow", hex"466a40566a30766ad0");
        addAsset(79, "Straight Hair Dark", hex"26000827000c28000c29000c2a000c2b000434000835000f36000f37000f38000f39000f3a000f3b000543000844000f45000746000153000a54000f63000a64000f6b000473000274000f75000479000c7a000e7b00058400028500038600038700038800038900038a0003");
        addAsset(80, "Choker", hex"4a000c5a00025b0005");
        addAsset(81, "Crazy Hair", hex"144f40234fc0244fe0254fc0264fd0274fd0324f30334f60344ff0354f70374f20384f10424f90434ff0444f10514f20524fb0534ff0614f20624fb0634ff0724fe0734ff0744f50824f80834fb0844fb0854ff0864fc0874fc0884f40924fa0934f20944fa0954fb0964f10974f10");
        addAsset(82, "Regular Shades", hex"35000a45000a46000d55000a56000765000a66000475000a76000f850002860001");
        addAsset(83, "Wilde Blonde", hex"146b40156b80166b80176b80236be0246bd0256bf0266bf0276bf0286bb0296b40326ba0336bd0346bf0356bf0376b20386b70426bf0436be0446bf0516b80526b20536bf0546b50556b10626bf0636bf0646b50656b80716ba0726bf0736bb0746bf0756b10826b60836bf0846bf0856bd0866bc0876bc0886b10936b70946ba0956bb0966bf0976bd0986bb0a36b10a56b10a66b30");
        addAsset(84, "3D Glasses", hex"355f80365f40455fa0465f304660c0475f50555fa05660f0575f50655fa0665f306661c0675f50755fa07661f0775f50855f20865f30875f10");
        addAsset(85, "Mole", hex"483140");
        addAsset(86, "Wild White Hair", hex"170e40240e40250e60260e60270ed0280e60330ec0340ef0350ef0360e70370e30380e10430ee0440ef0450e30520ea0530ef0540ed0550e10620ea0630ef0640ef0650e30660e90720e80730eb0740ef0750e40830e80840eb0850ef0860ec0870ec0880e40940e30950e20960e60970eb0980e20");
        addAsset(87, "Spots", hex"366c80486c40556c406a6c10746c20776c10786c80");
        addAsset(88, "Frumpy Hair", hex"23000824000c25000c26000f27000f28000c32000833000f34000f35000f36000f370007380003424e87434e1e44000f45000752000f53000f54000f55000c62000f63000f64000f65000f66000172000b73000f74000f75000583000b84000f85000d86000c87000c88000c960003970003980001");
        addAsset(89, "Nerd Glasses", hex"36000445000a462ac347000455000a562a3c57000165000866000d75000a762af0770005850002860003");
    }
    
    function initializeAdditionalInternalState3() external onlyDeployer {
        addAsset(90, "Tiara", hex"446d40546d50556d40646d60656e10656d60746d10");
        addAsset(91, "Orange Side", hex"346fc0356fe0366f70376f10436fa0446ff0456f10536ff0546ff0636ff0646ff0656f40736fa0746ff0756f407a6fe07b6f50846f30856ff0866ff0876ff0886ff0896ff08a6ff08b6f10976f20986f30996f309a6f30");
        addAsset(92, "Red Mohawk", hex"524f80534fd0624f30634f30");
        addAsset(93, "Messy Hair", hex"23000824000832000833000f34000f42000f43000f44000d45000152000f53000f54000562000f63000f64000365000172000e73000f74000d83000784000b");
        addAsset(94, "Clown Eyes Blue", hex"456280466348476240566310566420756220766352766480776210");
        addAsset(95, "Pipe", hex"6900087959297a59498a59298b5949965ac099000a9a5b839a59409b595aa55a20a65af0a75a20a85a20a9000aaa5b80aa5970ab5b16b90002ba0003");
        addAsset(96, "Wild Hair", hex"12000813000814000815000516000c22000c23000f24000f25000f26000d27000728000831000232000e33000f34000f35000f36000f37000738000141000842000e43000f44000f45000152000b53000f54000f55000461000862000f63000f64000565000171000172000f73000f74000f75000481000282000383000f84000f85000f86000f87000d88000c92000693000b94000195000b960003970005990001");
        addAsset(97, "Purple Eye Shadow", hex"4670405670307670d0");
        addAsset(98, "Stringy Hair", hex"440008450001540009550001640009650001740009750001");
        addAsset(99, "Dark Hair", hex"19000426000c27000e28000f29000534000e35000f36000f37000338000b39000f43000e44000f45000749000353000f54000f55000d63000f64000f65000573000b74000f75000579000c84000b85000f86000f87000f88000f89000f95000296000397000398000b990005");
        addAsset(100, "Eye Patch", hex"35000845000a46000f47000455000a56000f57000165000a75000a");
        addAsset(101, "Blonde Short", hex"336b80346be0356bf0366b30376b40426b80436bf0446bf0456b10526ba0536bf0546bf0626ba0636bf0646bf0656b60736bb0746bf0776b40846b30856b30866b30");
        addAsset(102, "Classic Shades", hex"35000845000a46344346358047000455000a56341c56352057000165000a66000c75000a7634507635a0770005850002860003");
        addAsset(103, "Eye Mask", hex"35000836000e37000545000a465e8347000555000a56000c57000565000a66000f67000575000a765e20770005850002860003870001");
        addAsset(104, "Clown Hair Green", hex"1422801522c02322e02422f02522f02622f02722d03222e03322f03422f03522703722203822104222f04322f04422f05122a05222f05322f05422506122206222f06322f06422507222f07322f07422f08222208322f08422f08522f08622d08722848822409322209422b09522f0962230972210");
        addAsset(105, "Cap", hex"3341803441c04241804341f04441f05241a05341f05441f06241a06341f06441f07241a07341607342907441f08341308441f09441f0a44120");
        addAsset(106, "Medical Mask", hex"3645804745904845404846804945d05745a05845f05945f05a45506746206745806845f06945f06a4550774560784510784620794570");
        addAsset(107, "Bandana", hex"144a20144b80154ac0164a40244a20244b80254b10254c60334b80344b10344ac0344c20434b50434aa0444a50444ba0534b50534aa0544a50544ba0634b50634aa0644af0654b50734b50734aa0744a70744b80754b10834b20844b10");
        addAsset(108, "Purple Lipstick", hex"597140697150");
        addAsset(109, "Clown Nose", hex"6726a0682650");
        addAsset(110, "Headband", hex"25000c26000c27000e28000f29000f2a000c34000635000337000238000339000f3a000f430002440ea4455850540ea5555850640ea5655850730008740ea17558507900087a000f84000985000c86000c87000e88000d89000e8a000f95000396000397000b98000f9900079a0001");
        addAsset(111, "Pigtails", hex"13000814000f15000f16000423000f24000f25000333568234000d35000442000843000f44000f45000152000a53000f54000562000a63000f64000572000273000f74000d83562884000793000f94000f95000ca30002a4000fa5000fa60001");
        addAsset(112, "Straight Hair Blonde", hex"266b80276bc0286bc0296bc02a6bc02b6b40346b80356bf0366bf0376bf0386bf0396bf03a6bf03b6b50436b80446bf0456b70466b10536ba0546bf0636ba0646bf06b6b40736b20746bf0756b407a6be07b6b50846b20856b30866b30876b30886b30896b308a6b30");
        addAsset(113, "Knitted Cap", hex"330008342cc3420008432be1442cd0442b2052000a532bf0542cd0542b2062000a632bf0642cd0642b20720002732bb4742cd0742b20830002842c1c842b20");
        addAsset(114, "Clown Eyes Green", hex"452280464348472240564310564420752220764352764480772210");
        addAsset(115, "Cigarette", hex"69000478000a79275a88000a89275a9528c09628c09728c098000a99271a992940a90001");
        addAsset(116, "Welding Goggles", hex"3472c03572c0437380437220447330442ac04573404572105373205372805473c0542a305573105572406372a06473c06472306572407373a0742af0757350837220847330857230");
        addAsset(117, "Mohawk Thin", hex"52000c530004540004610002623c3c633c34643c14");
        addAsset(118, "Gold Chain", hex"4b5d405b5d50");
        addAsset(119, "VR", hex"36478637474945000a46471846486047489447472048000555000a56485a5748a558000565000a66485a6748a568000575000a76485a7748a578000585000286471c86482087481c874720880001");
        addAsset(120, "Vape", hex"69000478000a79365a88000a89365a98000a99361a993740a80002a90003");
        addAsset(121, "Pink With Hat", hex"2674802774c02874c034000c3574e03674703774f03874f03974f03a744043000e44000f4574704974204a7410530e8754000f5574d063000f640e1e6574f066741073000b74000f7574507974807a74408400038574b08674f08774f08874f08974f08a7410967420977430987430");
        addAsset(122, "Blonde Bob", hex"256b80266bc0276bc0286be0336bc0346bf0356bf0366b30376bf0386bf0396b50426b80436bf0446bd0486b20496b50526ba0536bf0546bf0556b40626ba0636bf0646b70726b20736bf0746b40796b40836b20846bf0856bf0866bf0876bf0886bf0896b10976b20986bb0");
        addAsset(123, "Mohawk", hex"520008530b81536560610008620be1630bf0640bd0710002720003730001");
        addAsset(124, "Big Shades", hex"35000836000e37000445000a4639a0463a50473b5a55000a56392c563a10573b1665000866000d67000475000a7639a0763a50773b5a85000a86392c863a10873b16");
        addAsset(125, "Earring", hex"270004375612");
        addAsset(126, "Green Eye Shadow", hex"4675405675307675d0");
        addAsset(127, "Straight Hair", hex"2676802776c02876c02976c02a76c02b76403476803576f03676f03776f03876f03976f03a76f03b76504376804476f04576704676105376a05476f06376a06476f06b76407376207476f07576407976c07a76e07b76508476208576308676308776308876308976308a7630");
        addAsset(128, "Rosy Cheeks", hex"4777805777207777a0");
        addAsset(129, "Half Shaved", hex"1900081a000c24000c25000e26000f27000f28000f29000f2a000f33000e34000f35000f36000f37000738000339000b3a000f42000843000f44000f45000346000149000152000a530007540001630003");
        addAsset(130, "Mohawk Dark", hex"52000853000f61000862000f63000f64000d710002720003730001");
        addAsset(131, "Black Lipstick", hex"590004690005");
        addAsset(132, "Horned Rim Glasses", hex"35000836000445000a4657f047575055000a56573457571065000a6657c167574075000a7657f0775750850002860001");
        addAsset(133, "Silver Chain", hex"4b38405b3850");
    }
}

contract CryptopunksData {

    string internal constant SVG_HEADER = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="1.2" viewBox="0 0 24 24">';
    string internal constant SVG_FOOTER = '</svg>';

    Composites private composites;
    Assets private assets;

    mapping(uint8 => bytes) private punks;

    address payable internal deployer;
    bool private contractSealed = false;

    modifier onlyDeployer() {
        require(msg.sender == deployer, "Only deployer.");
        _;
    }

    modifier unsealed() {
        require(!contractSealed, "Contract sealed.");
        _;
    }

    constructor() {
        deployer = msg.sender;
        composites = Composites(0xEbaa058DCE7C4B3439Afae9Ac19A131000eB94e8);
        assets = Assets(0xdD89Fcab78Fb837D06C8973442de17e48f58F7D3);
    }
    
    function destroy() external onlyDeployer unsealed {
        selfdestruct(deployer);
    }
    
    function sealContract() external onlyDeployer unsealed {
        contractSealed = true;
    }

    function addPunks(uint8 index, bytes memory _punks) public onlyDeployer unsealed {
        punks[index] = _punks;
    }

    function initializeInternalData() external onlyDeployer unsealed {
        addPunks(0, hex"067d7a7e0000000001224a00000000000760000000000000012d401400000000021a3d2d23000000067d81610000000002350000000000000657565e00000000010d4100000000000238331200000000057b4e000000000006834f7200000000056c6500000000000783707c00000000054d4b5f00000000040d2d1500000000023d461d0000000003184a00000000000245470000000000054d6b84000000000332000000000000033d411f00000000056c4b000000000003303d350000000003220f000000000005560000000000000663000000000000033d3a00000000000132230000000000067d8184000000000128260000000000056200000000000003182b0000000000033a000000000000076c580000000000012a3d3a133e0000065c00000000000005695e0000000000076c58660000000003181e150000000003223b2f0000000001452d2700000000056073000000000006810000000000000341000000000000021b3d0000000000066c4f00000000000116000000000000034a230000000000056b61000000000002373c000000000002453d2d0000000001173d1614000000077f7c00000000000143000000000000032c000000000000011e000000000000033f00000000000002284300000000000445100000000000076c6200000000000763000000000000054d7d825e000000013d1e1d00000000066c700000000000066e670000000000054c000000000000056c815400000000013514000000000002283c0000000000067d517352000000076c817e00000000012a3d3c1400000006837d6b0000000001173d0f000000000317162c00000000033513000000000001304600000000000230162c00000000012a0f000000000004112d0000000000033f1d0000000000043f000000000000031e201d00000000033d4123000000000551000000000000054d7d717e000000033d430000000000074d690000000000055000000000000002432c0000000000077f6d0000000000076c795900000000076b000000000000057d795200000000023d4a0000000000077a000000000000022d00000000000007836374000000000243130000000000");
        addPunks(1, hex"064c0000000000000233140000000000020d39000000000005837a7e0000000001283d322c00000003240000000000000770000000000000023f00000000000007836e000000000001303d3c00000000056c7d8273000000013016000000000002383d2f3e000000044a000000000000055c000000000000057d81000000000005837d5a5e000000094241000000000007836b0000000000023d260000000000064c7c0000000000076c5a0000000000034a130000000000065756000000000002283d3a00000000076c4c7c00000000043d3f132c0000000662720000000000031b3b3320000000034419133e000000034a000000000000064d4f00000000000124000000000000043b1c40000000000233000000000000031900000000000001171e2700000000014100000000000003463e000000000002352c0000000000054d000000000000013b3f4800000000034a15000000000003253e0000000000010d311300000000032d000000000000033d4a000000000004241500000000000243000000000000030d412300000000066c7d000000000002462b0000000000030f270000000000023d26470000000001173d4300000000010e12000000000001191d00000000000226130000000000031a2d1500000000033d460000000000066c6f5e00000000054d5800000000000228313e00000000011e2c0000000000066277000000000002420f1300000000011e150000000000064d6e000000000007857a4e00000000064d565200000000031b3a1f00000000021b3d4600000000066c7a5400000000054d555d5f5e0000013d2d3e000000000226230000000000056c7d6052000000010d2f0000000000023c0000000000000417241f00000000054d4b0000000000014a000000000000043a0000000000000317000000000000057a7e0000000000074d5600000000000111320000000000077f000000000000013d3a1400000000076c750000000000013f000000000000057b000000000000023d241412000000077d4c7e00000000032d2700000000000770590000000000074d4c7c0000000001312c0000000000020d2500000000000765660000000000");
        addPunks(2, hex"0560000000000000064d63734e000000076c7d6e000000000336411500000000023215000000000002280f23000000000319131200000000033a402c00000000023d1e4800000000054d620000000000067d4f0000000000011a240000000000054d510000000000065100000000000001424a0000000000067b000000000000022f000000000000023b3d0f00000000031b30261500000005807d6b5e000000043f230000000000014546131f0000000335401d00000000032a321400000000033d3f1314000000064d7d5b00000000064d0000000000000656000000000000023a1d00000000000341130000000000010d160000000000067d625f0000000005604e0000000000084d6b0000000000031614000000000003311300000000000345390000000000014a150000000000064f72000000000001181a4a0000000006707c00000000000753000000000000058362000000000003363d3313000000076c6052000000000563000000000000040d3d2f0000000005827e0000000000055d610000000000075b000000000000067d58720000000007827e0000000000041b1900000000000565720000000000033c00000000000003111e0000000000013d3c202c00000003182600000000000230190000000000033d194700000000011c480000000000058356000000000005655200000000000445410000000000087d56000000000001443d1900000000013d351d00000000013c1200000000000771000000000000010d3d431d000000065c5e000000000002460000000000000234410000000000031923000000000003303d2615000000066c6261000000000751000000000000075c00000000000008834f0000000000066c704e00000000043d0000000000000300000000000000084f660000000000074d5800000000000424000000000000076c630000000000041a2d0000000000087b736100000000041e00000000000006756400000000000653000000000000023d24000000000007834c000000000003300f0000000000013d43230000000002181e00000000000224000000000000024532000000000007810000000000000145350000000000");
        //addPunks(3, bytes("0x031a3f0000000000084d5c7e00000000066c6b4e00000000056c5c000000000002173a0000000000086c7a77000000000760780000000000023b310000000000031b413e00000000021e230000000000013d2f201f0000000336310000000000033b190000000000076c82000000000004334700000000000683567300000000056b00000000000002183b2f00000000084d6b7300000000077d4f00000000000146000000000000023a0000000000000683797200000000010f000000000000084d7d7a000000000111331d00000000054d7d56000000000432000000000000032f3e0000000000066b6400000000000216270000000000086c7d4c0000000001463e0000000000076c70610000000001382d0000000000020e000000000000022a2e1400000000023100000000000003411d00000000000883557d697c000002453f2948000000077d5d0000000000076b52000000000003173300000000000125000000000000067d4c0000000000021c00000000000002163e000000000007805d590000000001423d0f000000000662000000000000031b1a1c00000000067f7e0000000000076b7e00000000000433130000000000088376567e0000000346000000000000057d4c0000000000030d4a1d00000000084d5d000000000002282f0000000000020f00000000000002173a470000000004171014000000000428430000000000032a350000000000023d4a4700000000010e000000000000066c580000000000030d3d3c00000000010c3a131d00000006580000000000000a19000000000000013d3f0000000000056b5e000000000007607e00000000000781590000000000042a3d3f13150000057d580000000000076c7d750000000007837d6000000000076c710000000000074b73000000000006707e0000000000066c6b66000000000650600000000000023d3500000000000244194000000000064d705e00000000030c350000000000075d0000000000000583536700000000021e0000000000000319132b00000000077d790000000000032a3d190000000006700000000000000210000000000000012f000000000000011c1d0000000000"));
        //addPunks(4, bytes("0x066c7a610000000001383d31000000000142240000000000010e1f000000000007855b7300000000065d0000000000000143140000000000076c7d530000000001190000000000000783710000000000043f2c00000000000783605e00000000043d1c1f00000000087f00000000000003173d2e0000000003181b331d0000000122431300000000054f0000000000000583567800000000067d6b0000000000043d32000000000002362d0000000000076c7d6361000000011e490000000000044543150000000005835d8400000000013a230000000000055d00000000000005610000000000000222330000000000056c7d6300000000056e840000000000023d411300000000022a3d24150000000431470000000000024524000000000002290000000000000342322c0000000006820000000000000217160000000000058365000000000001174600000000000336100000000000055300000000000001173d3500000000056c7d4b5f00000006707359000000000246230000000000031e000000000000066c7f7300000000023c131d00000000013500000000000004160000000000000234260000000000013b412900000000010d2e2b0000000002373d2414000000033b16480000000001283d260000000001330000000000000783507d8266000001221600000000000119151200000000022f200000000000054d8200000000000343404800000000066c7a000000000003361c1f00000000013a0000000000000758000000000000011b162300000000056272000000000001112d1500000000074f7e0000000000056f730000000000085100000000000002454a4014000000066c820000000000013a1300000000000763520000000000023b3d2e000000000760590000000000074d4c00000000000311460000000000011614000000000002383d3f48000000064d700000000000013200000000000006557d810000000001351f0000000000077d6f0000000000074d814e0000000003171e1f00000000056c5300000000000342460000000000012232000000000002283d261d00000003113a0000000000077d6500000000000770737400000000"));
        //addPunks(5, bytes("0x067f000000000000067d4b0000000000032a3d3f0000000003420f000000000005837d4b00000000022a3f00000000000241230000000000064d630000000000023d16000000000005605200000000000200000000000000021b2f000000000001431300000000000316000000000000084d7f6400000000042a0f0000000000022a104800000000021a414000000000023d4a2b0000000003310000000000000330431500000000087a000000000000077a590000000000022246000000000001451c0000000000064d857d4f000000041b390000000000074d705200000000077b000000000000066e000000000000067a000000000000013d160000000000058200000000000003373a0000000000056f770000000000021b111600000000012a433e00000000056c790000000000064d717e0000000004110f2b0000000003174a00000000000342411400000000021a46291500000002113d46000000000232000000000000055d77000000000002183f1d00000000067d71000000000005835800000000000448000000000000023d2e0000000000023d3a00000000000236352b000000000560540000000000056c600000000000013d4a3e0000000001174100000000000128321d00000000043d0f0000000000067500000000000006837a0000000000022e480000000000020c264700000000077d4f5f7700000001384a000000000002170000000000000660000000000000012f2b0000000000043a2b000000000006837100000000000445261300000000076c6f000000000001354900000000000655567700000000031a2f0000000000078358000000000008834c0000000000023726000000000002423c0000000000057d700000000000054c720000000000067d657300000000012600000000000003351f0000000000054d5c0000000000057d7900000000000760610000000000033d35000000000005837d4c737c0000064d7d7b52000000054f660000000000031a1e1d00000000011c132c00000000067d5a590000000003162c0000000000013f2c0000000000067d7a6a0000000005805d0000000000087d5661000000000217240000000000"));
        //addPunks(6, bytes("0x076c5100000000000583825e00000000074d5100000000000883537300000000066c600000000000021b3d0e131d0000076c827200000000023d4627000000000346480000000000030d350000000000023d192300000000066900000000000004170f2b00000000033b310000000000086e000000000000022d1d0000000000074d706600000000012a431d00000000056072000000000002363d312c000000067f84000000000002222a3d3a2c000001383d313e00000002222a3c3e000000013d322300000000022846132c000000023d1000000000000443000000000000086c7d626100000002150000000000000230240000000000066e737c00000000023a49000000000002373d261500000003312300000000000b2f150000000000023b4a1f0000000006834f000000000002223b2e2b000000011b173a0000000003164000000000000700000000000000066c7900000000000222114a00000000043d240000000000031a3d263e000000054d7d827e000000086b00000000000003383a2c0000000002113d35400000000138410000000000033500000000000001280f200000000006534e0000000000077d567200000000033b4a000000000003223d2400000000021126131f00000008837b00000000000855764c00000000056c7d6061000000011a16000000000004451c00000000000131000000000000074c840000000000020d0e1500000000076c5d0000000000064d820000000000068272000000000006837500000000000575000000000000057d816600000000076c530000000000020f230000000000044114000000000005756600000000000122461500000000076b5f5e00000000013d350000000000022145320000000001423a0000000000023900000000000006834f7800000000087d717700000000066c7d795e000000024a15000000000002223b3d1e40000003453a0000000000056800000000000005835575540000000317411400000000067d5d84000000000231470000000000013d2f2b00000000033d410000000000064c4e0000000000076c756100000000054d5d00000000000343150000000000012d000000000000"));
        //addPunks(7, bytes("0x013d0f0000000000031a3a00000000000345350000000000033a140000000000022211190000000002323e0000000000065a000000000000064d807f00000000056c7f000000000001173d1e0000000002113d3f150000000430261d00000000076c7f0000000000013a2b0000000000067d81737e000000032a3d240000000002223d352c000000077d587e000000000237350000000000064d7d7900000000043d190000000000058381000000000001280f2300000000022d140000000000075c610000000000042a260000000000023d0f201d0000000583630000000000076c7d6900000000087f61000000000003173d2f00000000011e470000000000074c000000000000076c626600000000024a140000000000021b3d101400000006837d7173000000057d627200000000023d000000000000066b00000000000002174a00000000000100000000000000032f00000000000001363d4600000000075a4e0000000000021116140000000006626a000000000002261f0000000000011731000000000005637e0000000000013b2d15000000000231131f000000000241000000000000086c60000000000003173d0f140000000883557d7a73720008694e0000000000056c7d5d00000000058373640000000005636100000000000883580000000000056c4f0000000000041c000000000000024a000000000000023f3e0000000000021a432700000000068351840000000007837d4c0000000003453d192300000002213c0000000000010d3215000000000217462b000000000328430000000000084d7f610000000002173d3500000000023a2c0000000000056c4c000000000002373b3d4a000000086c684e0000000004262c000000000005537c000000000003423d3315000000077a660000000000034a3e00000000000321242948000000023d310000000000032a3d390000000002173d1900000000031b3d24270000000769000000000000076984000000000001173d0f1d000000032f49000000000002171c0000000000023f120000000000064d514e00000000076c6b6600000000022f1300000000000137000000000000031b3c0000000000"));
        //addPunks(8, bytes("0x03321f0000000000031e1d000000000004432c0000000000014114000000000001412000000000000317240000000000024a12000000000001303d260000000003173d3a00000000013d1e0000000000033643490000000003363d4600000000020f2700000000000756000000000000023d164800000000077a730000000000041b26000000000001452d0000000000067d53720000000003173f404800000002241300000000000233230000000000057a54000000000003361500000000000125140000000000076c807d6000000008835d0000000000032e2b0000000000074d620000000000074d7b0000000000074d7d5300000000086c810000000000055c73000000000001173200000000000670730000000000057d625e00000000024216000000000007835c0000000000074b000000000000085558610000000001110f1300000000021a3d4a0000000002221c1400000000076c7d4b730000000562610000000000076e720000000000033d3f1d0000000003241200000000000311411f000000000216000000000000032f150000000000022e000000000000031a351f000000000111161500000000013d410000000000086b6400000000000319150000000000076c4c72000000000670720000000000013b162b00000000032a100000000000057f000000000000011b2110130000000883000000000000042f140000000000064d7d7561000000086c7f7200000000088365735e000000078558000000000001422f1d000000000765000000000000022d150000000000064d53780000000003110f2c00000000057d607352000000067d56520000000005554c0000000000030d3d4300000000024519000000000002303d1c1f000000023d46000000000003351d0000000000030f13000000000006837d4b00000000076c7d8200000000011821160000000006634e000000000003170f0000000000064f5e0000000000011b170f0000000002171e2b0000000001173d2e00000000023d190000000000087d5d0000000000087d580000000000034535480000000003443a00000000000345261300000000057a610000000000013f140000000000"));
        //addPunks(9, bytes("0x0336411d00000000054d4c730000000001173d41140000000326293e00000000064d81788400000001112f0000000000031b320000000000054d68000000000002184140000000000246140000000000033b3d3f0000000004171e00000000000570736100000000013c00000000000005697c00000000000242100000000000076e000000000000067d7b7300000000020c432000000000034541000000000003223b3d392b0000077d5c735200000007708400000000000117240000000000030d3d434800000003453d3a20230000031b46000000000005837a5e000000000221363f1f0000000665000000000000021c2c0000000000054b000000000000010d3d2f0000000001112d0000000000087b000000000000010f150000000000031b3d3500000000085d00000000000002423d4600000000023d432b0000000002303f1400000000010f132c00000000013f4700000000000110000000000000076c5b0000000000031023120000000001362d1f0000000001280f0000000000074c540000000000086f4e0000000000020d160000000000084c00000000000006557d4f6400000002281e0000000000087d585900000000013d390000000000013a1d0000000000031a000000000000030f4700000000000118283d33400000066c7d705e000000041b3f000000000003183347000000000869670000000000010d3d3f00000000033d1c4900000000076c557d5c000000033d352b00000000022600000000000003171900000000000245390000000000084d5c000000000002322b000000000001383d3a00000000054d6b6600000000042a1600000000000670520000000000076c4c0000000000042d000000000000030d411d000000000683820000000000023b3d3a000000000553590000000000066c5d0000000000067d5d0000000000067a7c00000000000122283d3a000000092d3e0000000000074d5c000000000002111e0000000000066c62000000000006834c5e00000000085c610000000000031b3d413e000000088357717800000002363d2f3e0000000769736100000000074f84000000000001342a463e000000012a3f4000000000"));
    }

    function composite(byte index, byte yr, byte yg, byte yb, byte ya) internal view returns (bytes4 rgba) {
        rgba = composites.composite(index, yr, yg, yb, ya);
    }
    
    function getAsset(uint8 index) internal view returns (bytes memory encoding) {
        encoding = assets.getAsset(index);
    }
    
    function getAssetName(uint8 index) internal view returns (string memory text) {
        text = assets.getAssetName(index);
    }
    
    function getPunkAsset(uint16 punkIndex, uint8 assetIndex) public view returns (uint8) {
        return uint8(punks[uint8(punkIndex / 100)][(punkIndex % 100) * 8 + assetIndex]);
    }

    function punkImage(uint16 index) public view returns (bytes memory) {
        require(index >= 0 && index < 10000);
        bytes memory pixels = new bytes(2304);
        for (uint8 j = 0; j < 8; j++) {
            uint8 asset = getPunkAsset(index, j);
            if (asset > 0) {
                bytes memory a = getAsset(asset);
                uint n = a.length / 3;
                for (uint i = 0; i < n; i++) {
                    uint[4] memory v = [
                        uint(uint8(a[i * 3]) & 0xF0) >> 4,
                        uint(uint8(a[i * 3]) & 0xF),
                        uint(uint8(a[i * 3 + 2]) & 0xF0) >> 4,
                        uint(uint8(a[i * 3 + 2]) & 0xF)
                    ];
                    for (uint dx = 0; dx < 2; dx++) {
                        for (uint dy = 0; dy < 2; dy++) {
                            uint p = ((2 * v[1] + dy) * 24 + (2 * v[0] + dx)) * 4;
                            if (v[2] & (1 << (dx * 2 + dy)) != 0) {
                                bytes4 c = composite(a[i * 3 + 1],
                                        pixels[p],
                                        pixels[p + 1],
                                        pixels[p + 2],
                                        pixels[p + 3]
                                    );
                                pixels[p] = c[0];
                                pixels[p+1] = c[1];
                                pixels[p+2] = c[2];
                                pixels[p+3] = c[3];
                            } else if (v[3] & (1 << (dx * 2 + dy)) != 0) {
                                pixels[p] = 0;
                                pixels[p+1] = 0;
                                pixels[p+2] = 0;
                                pixels[p+3] = 0xFF;
                            }
                        }
                    }
                }
            }
        }
        return pixels;
    }
    
    /**
     * The Cryptopunk image for the given index, in SVG format.
     * In the SVG, each "pixel" is represented as a 1x1 rectangle.
     * @param index the punk index, 0 <= index < 10000
     */
    function punkImageSvg(uint16 index) external view returns (string memory svg) {
        bytes memory pixels = punkImage(index);
        svg = string(abi.encodePacked(SVG_HEADER));
        bytes memory buffer = new bytes(8);
        for (uint y = 0; y < 24; y++) {
            for (uint x = 0; x < 24; x++) {
                uint p = (y * 24 + x) * 4;
                if (uint8(pixels[p + 3]) > 0) {
                    for (uint i = 0; i < 4; i++) {
                        uint8 value = uint8(pixels[p + i]);
                        buffer[i * 2 + 1] = _HEX_SYMBOLS[value & 0xf];
                        value >>= 4;
                        buffer[i * 2] = _HEX_SYMBOLS[value & 0xf];
                    }
                    svg = string(abi.encodePacked(svg,
                        '<rect x="', toString(x), '" y="', toString(y),'" width="1" height="1" shape-rendering="crispEdges" fill="#', string(buffer),'"/>'));
                }
            }
        }
        svg = string(abi.encodePacked(svg, SVG_FOOTER));
    }

    /**
     * The Cryptopunk attributes for the given index.
     * The attributes are a comma-separated list in UTF-8 string format.
     * The first entry listed is not technically an attribute, but the "head type" of the Cryptopunk.
     * @param index the punk index, 0 <= index < 10000
     */
    function punkAttributes(uint16 index) external view returns (string memory text) {
        require(index >= 0 && index < 10000);
        for (uint8 j = 0; j < 8; j++) {
            uint8 asset = getPunkAsset(index, j);
            if (asset > 0) {
                if (j > 0) {
                    text = string(abi.encodePacked(text, ", ", getAssetName(asset)));
                } else {
                    text = getAssetName(asset);
                }
            } else {
                break;
            }
        }
    }

    //// String stuff from https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/Strings.sol

    bytes16 private constant _HEX_SYMBOLS = "0123456789abcdef";

    function toString(uint256 value) internal pure returns (string memory) {
        // Inspired by OraclizeAPI's implementation - MIT licence
        // https://github.com/oraclize/ethereum-api/blob/b42146b063c7d6ee1358846c198246239e9360e8/oraclizeAPI_0.4.25.sol

        if (value == 0) {
            return "0";
        }
        uint256 temp = value;
        uint256 digits;
        while (temp != 0) {
            digits++;
            temp /= 10;
        }
        bytes memory buffer = new bytes(digits);
        while (value != 0) {
            digits -= 1;
            buffer[digits] = bytes1(uint8(48 + uint256(value % 10)));
            value /= 10;
        }
        return string(buffer);
    }

}