// SPDX-License-Identifier: MIT
// @dev: @Brougkr

/*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@              @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                           @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                         @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*/

pragma solidity 0.8.10;
import {IERC721} from '@openzeppelin/contracts/interfaces/IERC721.sol';
import {IERC20} from '@openzeppelin/contracts/interfaces/IERC20.sol';
import {Pausable} from '@openzeppelin/contracts/security/Pausable.sol';
import {Ownable} from '@openzeppelin/contracts/access/Ownable.sol';
import {ReentrancyGuard} from '@openzeppelin/contracts/security/ReentrancyGuard.sol';
import {IArtBlocks} from './IArtBlocks.sol';

contract CryptoCitizenLiveMint is Ownable, Pausable, ReentrancyGuard
{   
    /*-------------------*/
    /*     IMMUTABLES    */
    /*-------------------*/

    address private immutable _ERC20_BRT_TokenAddress = 0xDbc3EaB9D16902d611a9D234ea9B2eaE3432B5BE;             // BRT Contract Address   
    address private immutable _BRTMULTISIG = 0xB96E81f80b3AEEf65CB6d0E280b15FD5DBE71937;                        // Bright Moments Multisig Contract Address    
    address private immutable _ArtBlocksMintingContractAddress = 0x296FF13607C80b550dd136435983734c889Ccca4;    // ArtBlocks Minting Contract Address
    address private immutable _ArtBlocksCoreContractAddress = 0x24CCA47Fcc4fe09b51aBE8A8124C3da01765bE14;       // Artblocks NFT Collection Contract Address
    address private immutable _GoldenTicketAddress = 0x8b68b0d0BFE370F9cb6f0107a6F1b8B1372De8ba;                // Golden Token Contract Address
    bytes32 private immutable _MINTER_ROLE = keccak256("MINTER_ROLE");                                          // Minter Role
    bytes32 private immutable _DEACTIVATED_ROLE = keccak256("DELISTED_ROLE");                                   // Deactivated Role
    uint256 private _ArtBlocksProjectID = 0;                                                                    // ArtBlocks Project ID

    /*-------------------*/
    /*  PUBLIC MAPPINGS  */
    /*-------------------*/

    /**
     * @dev Mapping `ticketTokenID` => `redeemer`
     **/
    mapping (uint256 => address) public mintingBrightList;

    /**
     * @dev Mapping `ticketTokenID` => `minted`
     **/
    mapping (uint256 => bool) public minted; 

    /*-------------------*/
    /*  PRIVATE MAPPINGS */
    /*-------------------*/

    /**
     * @dev Mapping `bookingSlot` => `bookingAmt` 
     **/
    mapping (uint256 => uint256) private bookings;

    /**
     * @dev Mapping `address` => `role`
     **/
    mapping (address => bytes32) private role;

    /**
     * @dev Mapping `ticketTokenID` => `timeSlot` 
     **/
    mapping (uint256 => uint256) private userSelectedSlot;

    /*-------------------*/
    /*      EVENTS       */
    /*-------------------*/

    /**
     * @dev Emitted When `redeemer` IRL-mints CryptoCitizen Corresponding To Their Redeemed `ticketTokenID`.
     **/
    event IRLMintComplete(address indexed redeemer, uint256 indexed ticketTokenID, uint256 indexed citizenTokenID);

    /**
     * @dev Emitted When `redeemer` Redeems `ticketTokenID` Claiming One Time-Slot `slotClaimed`.
     **/
    event GoldenTokenRedeemed(address indexed redeemer, uint256 indexed ticketTokenID, uint256 slotClaimed);

    /**
     * @dev Emitted When `redeemer` Unredeems `ticketTokenID` Opening Up One Time-Slot `slotOpened`.
     **/
    event GoldenTokenUnRedeemed(address indexed redeemer, uint256 indexed ticketTokenID, uint256 slotOpened);

    /**
     * @dev Emitted When `redeemer` Changes Old Booked Time-Slot `oldSlot` To `newSlot`.
     **/
    event TicketRedeemerTimeslotChange(address indexed redeemer, uint256 indexed ticketTokenID, uint256 oldSlot, uint256 newSlot);

    /*-------------------*/
    /*    CONSTRUCTOR    */
    /*-------------------*/

    /**
     * @dev Pre-Approves 1000 BRT For Purchasing, Grants BRT Minter Roles, & Transfers Ownership To BRT Multisig
     **/
    constructor() 
    { 
        role[0x5778B0B140Fa7a62B96c193cC8621e6E96c088A5] = _MINTER_ROLE; // BRT Minter #1
        // transferOwnership(_BRTMULTISIG); //for mainnet
    }

    /*-------------------*/
    /*  PUBLIC FUNCTIONS */
    /*-------------------*/

    /**
     * @dev Redeems Golden Ticket & BrightLists Address To Receive CryptoCitizen
     **/
    function RedeemGT(uint256 ticketTokenID, uint256 slot) public nonReentrant whenNotPaused
    {
        require(IERC721(_GoldenTicketAddress).ownerOf(ticketTokenID) == msg.sender, "Sender Does Not Own Ticket With The Input Token ID");
        require(bookings[slot] > 0, "This Booking Time Has Already Been Fully Reserved, Or Is Not A Valid Slot");
        IERC721(_GoldenTicketAddress).transferFrom(msg.sender, _BRTMULTISIG, ticketTokenID);
        require(IERC721(_GoldenTicketAddress).ownerOf(ticketTokenID) == _BRTMULTISIG, "ERC721: Golden Ticket Redemption Failed");
        mintingBrightList[ticketTokenID] = msg.sender;
        userSelectedSlot[ticketTokenID] = slot;
        bookings[slot] -= 1;
        emit GoldenTokenRedeemed(msg.sender, ticketTokenID, userSelectedSlot[ticketTokenID]);
    }

    /**
     * @dev Un-Redeems Golden Ticket & Refunds The User Their Ticket
     **/
    function UnRedeemGT(uint256 ticketTokenID) public nonReentrant whenNotPaused
    {
        require(mintingBrightList[ticketTokenID] == msg.sender, "Sender Has Not Redeemed Golden Token With The Input TokenID");
        require(!minted[ticketTokenID], "TicketTokenID Has Been Redeemed & Minted & Is No Longer Valid");
        mintingBrightList[ticketTokenID] = address(0);
        uint256 slot = userSelectedSlot[ticketTokenID];
        bookings[slot] += 1;
        userSelectedSlot[ticketTokenID] = 0;
        IERC721(_GoldenTicketAddress).transferFrom(_BRTMULTISIG, msg.sender, ticketTokenID);
        emit GoldenTokenUnRedeemed(msg.sender, ticketTokenID, slot);
    }

    /**
     * @dev Allows User To Change Their Desired Minting Timeslot
     **/
    function ChangeTimeslot(uint256 ticketTokenID, uint256 newSlot) public nonReentrant whenNotPaused
    {
        require(mintingBrightList[ticketTokenID] == msg.sender, "Sender Has Not Redeemed Golden Token With The Input TokenID");
        require(!minted[ticketTokenID], "Ticket Has Been Redeemed & Minted & Is No Longer Valid");
        require(bookings[newSlot] > 0, "This Booking Time Has Already Been Fully Reserved, Or Is Not A Valid Slot");
        uint256 oldSlot = userSelectedSlot[ticketTokenID];
        bookings[oldSlot] += 1;
        userSelectedSlot[ticketTokenID] = newSlot;
        bookings[newSlot] -= 1;
        emit TicketRedeemerTimeslotChange(msg.sender, ticketTokenID, oldSlot, newSlot);
    }

    /*-------------------*/
    /*     BRT STAFF     */
    /*-------------------*/

    /**
     * @dev IRL Minting Function Available Only At Bright Moments NFT Art Gallery 
     **/
    function _IRLMint(uint256 ticketTokenID) public onlyMinter whenNotPaused 
    {
        address to = readBrightList(ticketTokenID);
        require(to != address(0), "Golden Ticket Entered Is Not BrightListed");
        require(!minted[ticketTokenID], "Golden Ticket Already Minted");
        mintingBrightList[ticketTokenID] = address(0);
        minted[ticketTokenID] = true;
        uint256 citizenTokenID = IArtBlocks(_ArtBlocksMintingContractAddress).purchase(_ArtBlocksProjectID);
        IERC721(_ArtBlocksCoreContractAddress).transferFrom(address(this), to, citizenTokenID);
        emit IRLMintComplete(to, ticketTokenID, citizenTokenID);
    }

    /*-------------------*/
    /*  ADMIN FUNCTIONS  */
    /*-------------------*/

    /**
     * @dev Modifies IRL Minting Time-Slot Allocations
     **/
    function __modifySlots(uint256[] calldata slots, uint256[] calldata amounts) external onlyOwner
    {
        for(uint256 i = 0; i < slots.length; i++)
        {
            bookings[slots[i]] = amounts[i];
        }
    }

    /**
     * @dev Withdraws ERC20 Tokens to Multisig
     **/
    function __withdrawERC20(address tokenAddress) external onlyOwner 
    { 
        IERC20 erc20Token = IERC20(tokenAddress);
        erc20Token.transfer(msg.sender, erc20Token.balanceOf(address(this)));
    }

    /**
     * @dev Approves BRT For Purchasing On ArtBlocks Contract
     **/
    function __approveBRT(address contractAddress, uint256 amount) external onlyOwner { IERC20(contractAddress).approve(_ArtBlocksMintingContractAddress, amount); }

    /**
     * @dev Modifies The Current ArtBlocks ProjectID
     */
    function __modifyProjectID(uint256 ArtBlocksProjectID) external onlyOwner { _ArtBlocksProjectID = ArtBlocksProjectID; }

    /**
     * @dev Grants Address BRT Minter Role
     **/
    function __addMinter(address minter) external onlyOwner { role[minter] = _MINTER_ROLE; }

    /**
     * @dev Deactivates Address From BRT Minter Role
     **/
    function __removeMinter(address minter) external onlyOwner { role[minter] = _DEACTIVATED_ROLE; }

    /**
     * @dev Withdraws Any Ether Sent to Contract to Multisig
     **/
    function __withdrawEther() external onlyOwner { payable(msg.sender).transfer(address(this).balance); }

    /*-------------------*/
    /*    PUBLIC VIEW    */
    /*-------------------*/

    /**
     * @dev Returns # Of Remaining Bookings For Appointment Slot
     **/
    function readSlotAmt(uint256 slot) public view returns(uint256) { return bookings[slot]; }

    /**
     * @dev Returns BrightListed Address Corresponding to GoldenTicket TokenID
     **/
    function readBrightList(uint256 ticketTokenID) public view returns(address) { return mintingBrightList[ticketTokenID]; }

    /**
     * @dev Returns User Selected Timeslot
     */
    function readTimeSlot(uint256 ticketTokenID) public view returns(uint256) { return userSelectedSlot[ticketTokenID]; }

    /*-------------------*/
    /*      MODIFIERS    */
    /*-------------------*/

    /**
     * @dev Function Modifier That Allows Only BrightListed BRT Minters To Access
     **/
    modifier onlyMinter() 
    {
        require(role[msg.sender] == _MINTER_ROLE, "OnlyMinter: Caller Is Not Approved BRT Minter");
        _;
    }
}